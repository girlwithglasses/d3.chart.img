<!DOCTYPE html>
<html lang="en">
<head>
	<title>d3.form.element.colorbrewer.js</title>
	<link rel="stylesheet" type="text/css" href="http://img-proportal-dev.jgi-psf.org/css/proportal.css">
	<meta charset="UTF-8">
	<style>
	#palette svg {
		width: 100%;
		height: 40px;
	}
	#palette rect {
		width: 30px;
		height: 30px;
	}
	</style>
</head>
<body>
	<div class="wrapper">
		<h1>Colorbrewer colour picker</h1>
		<div id="palette"></div>
		<div id="select"></div>

	</div>
<script src="https://rawgit.com/mbostock/d3/master/d3.min.js"></script>
<script src="https://rawgit.com/mbostock/d3/master/lib/colorbrewer/colorbrewer.js"></script>
<script src="https://rawgit.com/misoproject/d3.chart/master/d3.chart.min.js"></script>
<script src="https://rawgit.com/girlwithglasses/d3.chart.img/master/src/d3.form.element.colorbrewer.js"></script>
<script>
	(function(){
	var p = d3.select("#palette")
		.append('svg')
		.append('g')
        .attr("transform", function(d) { return "translate(" + 5 + "," + 5 + ")"; })
		.classed('YlGn', true)
	, cbc = new ColorBrewerControl(colorbrewer);

	p.selectAll('rect')
	.data( d3.range(9) )
  .enter().append("rect")
	.attr("class", function(d){ return 'q' + d + '-9' })
	.attr('x', function(d,i){ return 30 * i })
	.text(function(d){ return d; } );

	cbc.add_colorbrewer_control({ el:'#select', id: "colors_select" })
		.on('change', function(){
			p.attr( 'class', this.value );
		});
	}());
</script>

</body>
</html>
